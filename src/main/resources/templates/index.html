<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <title>Pizza Main</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>

<nav sec:authorize="hasRole('ROLE_ADMIN')" class="nav nav-pills nav-fill">
    <a class="nav-link active" aria-current="page" th:href="@{/cafes}">Cafes</a>
    <a class="nav-link" th:href="@{/pizzas}">Pizzas</a>
    <a class="nav-link" th:href="@{/logout}">Log Out</a>
</nav>

<div>
<button type="button" class="btn btn-warning" th:onclick="|location.href='@{registration}'|" style="margin-left:10px; margin-top: 10px">
    Registration
</button>
</div>

<div>
<button type="button" class="btn btn-success" th:onclick="|location.href='@{login}'|" style="margin-left:10px; margin-top: 10px">
    Sign in
</button>
</div>

<!--<div sec:authorize="hasAnyRole('ROLE_USER', 'ROLE_ADMIN')">-->
<div sec:authorize="isAuthenticated()">
    <button type="button" class="btn btn-primary" th:onclick="|location.href='@{logout}'|" style="margin-left:10px; margin-top: 10px">
        Log out (<span sec:authentication="name"></span>)
    </button>
</div>

<div class="row" style="justify-content: space-around; margin: auto; margin-top: 10px">
    <div th:each="pizza : ${menu}" class="col">
        <div class="card" style="max-width: 18rem;">
            <img th:src="@{'/image/' + ${pizza.picture}}" class="card-img-top" alt="...">
            <div class="card-body">
                <h5 th:text="${pizza.name}" class="card-title"></h5>
                <p th:text="${pizza.ingredients}" class="card-text"></p>
                <select class="form-select" aria-label="Default select example">
                    <option selected>Size</option>
                    <option value="1">Small</option>
                    <option value="2">Medium</option>
                    <option value="3">Big</option>
                </select>
                <p th:text="${pizza.price} + ' Euro'" class="card-text" style="font-weight: bold; margin-top: 10px"></p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>

</html>
